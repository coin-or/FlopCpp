#!/bin/sh
## Shell script to obtain and unpack google logging library
## wget needs to be installed in order to get the package
## you need to be in the ThirdParty/glog directory if you call this script

wgetcmd=wget
wgetcount=`which wget 2>/dev/null | wc -l`
if test ! $wgetcount = 1; then
  echo "Utility wget not found in your PATH."
  exit -1
fi
echo "Downloading glog source code"
majorVersion=0.3.1
minorVersion=1
version=${majorVersion}-${minorVersion}

$wgetcmd http://google-glog.googlecode.com/files/glog-${version}.tar.gz

echo "Uncompressing tarball.."
tar -xzf glog-${version}.tar.gz

echo "Move files in correct location"
mv glog-${majorVersion}/* ./

echo "Cleaning up"
rmdir glog-${majorVersion}
rm glog-${version}.tar.gz

echo "Configuring glog"
./configure prefix=`pwd`

echo "Building glog"
make

echo "Installing glog in current directory"
make install

echo "Cleaning up to allow configure from source directory"
make distclean
